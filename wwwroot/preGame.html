<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Echo Words</title>
    <link rel="stylesheet" href="startpage.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.0/signalr.min.js"></script>
    <script src="darkmode.JS" defer></script>
    <script src="createLobby.js" defer></script>
    <script src="usernamePreGame.js"></script>
    <script src="addCard.js" defer></script>
    <script src="difficultySelector.js" defer></script>
    <script src="pregame.js" defer></script>
  </head>
  <body>
    <nav class="nav">
      <div>
        <h1>Echo Words</h1>
      </div>
      <div>
        <button id="darkModeToggle">Toggle Dark Mode</button>
        <div class="tooltip-container">
          <button class="button" id="gamerules">Game Rules</button>
          <div class="tooltip-content" id="Pregame">
            <main>
              <div>
                <ul>
                  <li>
                    Player 1 starts by entering a word and presses "Enter" to
                    submit.
                  </li>
                  <li>
                    Once Player 1 submits their word, a timer (2-3 seconds) will
                    start, and the word will disappear.
                  </li>
                  <li>
                    Player 2 must:
                    <ul>
                      <li>Re-enter Player 1's word.</li>
                      <li>
                        Add their own word, ensuring the first letter of their
                        word matches the last letter of Player 1's word.
                      </li>
                    </ul>
                  </li>
                  <li>
                    The game continues as each player iterates through the array
                    and enters a new word.
                  </li>
                  <li>
                    A 10-second countdown starts for every player's input.
                  </li>
                </ul>
              </div>
            </main>
          </div>
        </div>
      </div>
      <div>
        <p id="roomID">Room ID: XXXX</p>
      </div>
    </nav>
    <main>
      <div class="preGameText">
        <p id="inviteFriendsText">
          ðŸŽ‰ Ready to play? Invite your friends!
          <span id="roomLink" class="copyable"
            >Click here to copy the room ID
          </span>
        </p>
        <p id="instructionsText">
          <span style="color: #007bff">ðŸ‘¥ Players needed:</span>
          <span style="color: #28a745">Minimum 2</span> |
          <span style="color: #dc3545">Maximum 8</span>
        </p>
        <p id="gameStatusText">
          Waiting for players to join...
          <span id="currentPlayerCount">1</span>/8
        </p>
      </div>

      <div class="cardHolder"></div>
      <div class="joinGameInstruction">
        <div class="centerCardBtn" id="buttonsJoinCreate">
          <a id="gameLink">
            <button class="button" id="startGameButton">Start game</button>
          </a>
        </div>
      </div>

      <div class="difficulty-selector">
        <h2>Select Game Difficulty</h2>
        <div class="difficulty-buttons">
          <button class="difficulty-btn" id="easybtn" data-difficulty="easy">
            Easy
          </button>
          <button
            class="difficulty-btn"
            id="mediumbtn"
            data-difficulty="medium"
          >
            Medium
          </button>
          <button class="difficulty-btn" id="hardbtn" data-difficulty="hard">
            Hard
          </button>
          <button
            class="difficulty-btn"
            id="extremebtn"
            data-difficulty="extreme"
          >
            Extreme
          </button>
        </div>
        <div class="difficulty-info">
          <p id="initialTime"></p>
          <p id="correctBonus">
            <span>new word time bonus:</span>
            <span id="correctBonusValue"></span>
            <i
              class="info-icon"
              data-tooltip="Bonus time added when a new word is entered correctly. that means when the new word's first letter matches the previous word's last letter and when the new word is not already used in game"
              >i</i
            >
          </p>
          <p id="rewriteBonus">
            <span>rewrite time bonus:</span>
            <span id="rewriteBonusValue"></span>
            <i
              class="info-icon"
              data-tooltip="Bonus time added when a previously entered word is rewritten correctly."
              >i</i
            >
          </p>
        </div>
      </div>
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const cardHolder = document.querySelector(".cardHolder");
        const currentPlayerCount =
          document.getElementById("currentPlayerCount");

        if (cardHolder && currentPlayerCount) {
          currentPlayerCount.textContent = cardHolder.children.length;
        } else {
          console.error(
            "Could not find .cardHolder or #currentPlayerCount element.",
          );
        }
      });
    </script>
  </body>
</html>
